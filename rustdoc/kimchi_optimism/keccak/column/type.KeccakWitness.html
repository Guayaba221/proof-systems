<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="The witness columns used by the Keccak circuit. The Keccak circuit is split into two main modes: Sponge and Round. The columns are shared between the Sponge and Round steps. The hash and step indices are shared between both modes. The row is split into the following entries:"><title>KeccakWitness in kimchi_optimism::keccak::column - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../../static.files/rustdoc-4e54bb2b497cc83f.css"><meta name="rustdoc-vars" data-root-path="../../../" data-static-root-path="../../../static.files/" data-current-crate="kimchi_optimism" data-themes="" data-resource-suffix="" data-rustdoc-version="1.77.0-nightly (714b29a17 2024-01-15)" data-channel="nightly" data-search-js="search-dd67cee4cfa65049.js" data-settings-js="settings-4313503d2e1961c2.js" ><script src="../../../static.files/storage-f2adc0d6ca4d09fb.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../../static.files/main-0b2e2def73e61cbe.js"></script><noscript><link rel="stylesheet" href="../../../static.files/noscript-04d5337699b92874.css"></noscript><link rel="alternate icon" type="image/png" href="../../../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc type"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../../kimchi_optimism/index.html">kimchi_optimism</a><span class="version">0.1.0</span></h2></div><h2 class="location"><a href="#">KeccakWitness</a></h2><div class="sidebar-elems"><section><h3><a href="#aliased-type">Aliased type</a></h3><h3><a href="#fields">Fields</a></h3><ul class="block field"><li><a href="#structfield.cols">cols</a></li></ul><h3><a href="#trait-implementations">Trait Implementations</a></h3><ul class="block trait-implementation"><li><a href="#impl-Index%3CColumn%3E-for-Witness%3CZKVM_KECCAK_COLS,+T%3E">Index&lt;Column&gt;</a></li><li><a href="#impl-IndexMut%3CColumn%3E-for-Witness%3CZKVM_KECCAK_COLS,+T%3E">IndexMut&lt;Column&gt;</a></li><li><a href="#impl-KeccakWitnessTrait%3CT%3E-for-Witness%3CZKVM_KECCAK_COLS,+T%3E">KeccakWitnessTrait&lt;T&gt;</a></li></ul></section><h2><a href="index.html">In kimchi_optimism::keccak::column</a></h2></div></nav><div class="sidebar-resizer"></div>
    <main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><div id="sidebar-button" tabindex="-1"><a href="../../../kimchi_optimism/all.html" title="show sidebar"></a></div><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" tabindex="-1"><a href="../../../help.html" title="help">?</a></div><div id="settings-menu" tabindex="-1"><a href="../../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Type Alias <a href="../../index.html">kimchi_optimism</a>::<wbr><a href="../index.html">keccak</a>::<wbr><a href="index.html">column</a>::<wbr><a class="type" href="#">KeccakWitness</a><button id="copy-path" title="Copy item path to clipboard"><img src="../../../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="src" href="../../../src/kimchi_optimism/keccak/column.rs.html#150">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><pre class="rust item-decl"><code>pub type KeccakWitness&lt;T&gt; = Witness&lt;ZKVM_KECCAK_COLS, T&gt;;</code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>The witness columns used by the Keccak circuit.
The Keccak circuit is split into two main modes: Sponge and Round.
The columns are shared between the Sponge and Round steps.
The hash and step indices are shared between both modes.
The row is split into the following entries:</p>
<ul>
<li>
<p>hash_index: Which hash this is inside the circuit</p>
</li>
<li>
<p>step_index: Which step this is inside the hash</p>
</li>
<li>
<p>mode_flags: Round, Absorb, Squeeze, Root, PadLength, InvPadLength, TwoToPad, PadBytesFlags, PadSuffix, RoundConstants</p>
</li>
<li>
<p>curr: Contains 1969 witnesses used in the current step including Input</p>
</li>
<li>
<p>next: Contains the Output</p>
<p>Keccak Witness Columns: KeccakWitness.cols</p>
</li>
</ul>
<hr />
<h3 id="-0--1--2--3154--1552119--21202219-"><a href="#-0--1--2--3154--1552119--21202219-">| 0 | 1 | 2 | 3..154 | 155..2119 | 2120..2219 |</a></h3>
<p>0 -&gt; hash_index
1 -&gt; block_index
2 -&gt; step_index
3..154 -&gt; mode_flags
-&gt; 3: FlagRound
-&gt; 4: FlagAbsorb
-&gt; 5: FlagSqueeze
-&gt; 6: FlagRoot
-&gt; 7..142: PadBytesFlags
-&gt; 143: PadLength
-&gt; 144: InvPadLength
-&gt; 145: TwoToPad
-&gt; 146..150: PadSuffix
-&gt; 151..154: RoundConstants
155..2123 -&gt; curr
155                                                                        2119
&lt;––––––––––––––––if_round&lt;–––––––––––––––––&gt;
&lt;———––if_sponge———––&gt;<br />
155                                 954<br />
-&gt; SPONGE:                          | -&gt; ROUND:<br />
-&gt; 155..254: Input == SpongeOldState | -&gt; 155..254: Input == ThetaStateA<br />
-&gt; 255..354: SpongeNewState          | -&gt; 255..334: ThetaShiftsC<br />
: 323..354 -&gt; SpongeZeros | -&gt; 335..354: ThetaDenseC
-&gt; 355..554: SpongeBytes             | -&gt; 355..359: ThetaQuotientC
-&gt; 555..954: SpongeShifts            | -&gt; 360..379: ThetaRemainderC
| -&gt; 380..399: ThetaDenseRotC
| -&gt; 400..419: ThetaExpandRotC
| -&gt; 420..819: PiRhoShiftsE
| -&gt; 820..919: PiRhoDenseE
| -&gt; 920..1019: PiRhoQuotientE
| -&gt; 1020..1119: PiRhoRemainderE
| -&gt; 1120..1219: PiRhoDenseRotE
| -&gt; 1220..1319: PiRhoExpandRotE
| -&gt; 1320..1719: ChiShiftsB
| -&gt; 1720..2119: ChiShiftsSum
2119..2219 -&gt; next
-&gt; 2124..2223: Output (if Round, then IotaStateG, if Sponge then SpongeXorState)</p>
</div></details><h2 id="aliased-type" class="section-header">Aliased Type<a href="#aliased-type" class="anchor">§</a></h2><pre class="rust item-decl"><code>struct KeccakWitness&lt;T&gt; {
    pub cols: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.array.html">[T; 2220]</a>,
}</code></pre><h2 id="fields" class="fields section-header">Fields<a href="#fields" class="anchor">§</a></h2><span id="structfield.cols" class="structfield section-header"><a href="#structfield.cols" class="anchor field">§</a><code>cols: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.array.html">[T; 2220]</a></code></span><div class="docblock"><p>A witness row is represented by an array of N witness columns
When T is a vector, then the witness describes the rows of the circuit.</p>
</div><h2 id="trait-implementations" class="section-header">Trait Implementations<a href="#trait-implementations" class="anchor">§</a></h2><div id="trait-implementations-list"><details class="toggle implementors-toggle" open><summary><section id="impl-Index%3CColumn%3E-for-Witness%3CZKVM_KECCAK_COLS,+T%3E" class="impl"><a class="src rightside" href="../../../src/kimchi_optimism/keccak/column.rs.html#219-332">source</a><a href="#impl-Index%3CColumn%3E-for-Witness%3CZKVM_KECCAK_COLS,+T%3E" class="anchor">§</a><h3 class="code-header">impl&lt;T: <a class="trait" href="https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a>&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/ops/index/trait.Index.html" title="trait core::ops::index::Index">Index</a>&lt;<a class="enum" href="enum.Column.html" title="enum kimchi_optimism::keccak::column::Column">Column</a>&gt; for <a class="type" href="type.KeccakWitness.html" title="type kimchi_optimism::keccak::column::KeccakWitness">KeccakWitness</a>&lt;T&gt;</h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.index" class="method trait-impl"><a class="src rightside" href="../../../src/kimchi_optimism/keccak/column.rs.html#226-331">source</a><a href="#method.index" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/nightly/core/ops/index/trait.Index.html#tymethod.index" class="fn">index</a>(&amp;self, index: <a class="enum" href="enum.Column.html" title="enum kimchi_optimism::keccak::column::Column">Column</a>) -&gt; &amp;Self::<a class="associatedtype" href="https://doc.rust-lang.org/nightly/core/ops/index/trait.Index.html#associatedtype.Output" title="type core::ops::index::Index::Output">Output</a></h4></section></summary><div class="docblock"><p>Map the column alias to the actual column index.
Note that the column index depends on the step kind (Sponge or Round).
For instance, the column 800 represents PadLength in the Sponge step, while it
is used by intermediary values when executing the Round step.</p>
</div></details><details class="toggle" open><summary><section id="associatedtype.Output" class="associatedtype trait-impl"><a href="#associatedtype.Output" class="anchor">§</a><h4 class="code-header">type <a href="https://doc.rust-lang.org/nightly/core/ops/index/trait.Index.html#associatedtype.Output" class="associatedtype">Output</a> = T</h4></section></summary><div class='docblock'>The returned type after indexing.</div></details></div></details><details class="toggle implementors-toggle" open><summary><section id="impl-IndexMut%3CColumn%3E-for-Witness%3CZKVM_KECCAK_COLS,+T%3E" class="impl"><a class="src rightside" href="../../../src/kimchi_optimism/keccak/column.rs.html#334-441">source</a><a href="#impl-IndexMut%3CColumn%3E-for-Witness%3CZKVM_KECCAK_COLS,+T%3E" class="anchor">§</a><h3 class="code-header">impl&lt;T: <a class="trait" href="https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a>&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/ops/index/trait.IndexMut.html" title="trait core::ops::index::IndexMut">IndexMut</a>&lt;<a class="enum" href="enum.Column.html" title="enum kimchi_optimism::keccak::column::Column">Column</a>&gt; for <a class="type" href="type.KeccakWitness.html" title="type kimchi_optimism::keccak::column::KeccakWitness">KeccakWitness</a>&lt;T&gt;</h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.index_mut" class="method trait-impl"><a class="src rightside" href="../../../src/kimchi_optimism/keccak/column.rs.html#335-440">source</a><a href="#method.index_mut" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/nightly/core/ops/index/trait.IndexMut.html#tymethod.index_mut" class="fn">index_mut</a>(&amp;mut self, index: <a class="enum" href="enum.Column.html" title="enum kimchi_optimism::keccak::column::Column">Column</a>) -&gt; &amp;mut Self::<a class="associatedtype" href="https://doc.rust-lang.org/nightly/core/ops/index/trait.Index.html#associatedtype.Output" title="type core::ops::index::Index::Output">Output</a></h4></section></summary><div class='docblock'>Performs the mutable indexing (<code>container[index]</code>) operation. <a href="https://doc.rust-lang.org/nightly/core/ops/index/trait.IndexMut.html#tymethod.index_mut">Read more</a></div></details></div></details><details class="toggle implementors-toggle" open><summary><section id="impl-KeccakWitnessTrait%3CT%3E-for-Witness%3CZKVM_KECCAK_COLS,+T%3E" class="impl"><a class="src rightside" href="../../../src/kimchi_optimism/keccak/column.rs.html#175-217">source</a><a href="#impl-KeccakWitnessTrait%3CT%3E-for-Witness%3CZKVM_KECCAK_COLS,+T%3E" class="anchor">§</a><h3 class="code-header">impl&lt;T: <a class="trait" href="https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a>&gt; <a class="trait" href="trait.KeccakWitnessTrait.html" title="trait kimchi_optimism::keccak::column::KeccakWitnessTrait">KeccakWitnessTrait</a>&lt;T&gt; for <a class="type" href="type.KeccakWitness.html" title="type kimchi_optimism::keccak::column::KeccakWitness">KeccakWitness</a>&lt;T&gt;</h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.hash_index" class="method trait-impl"><a class="src rightside" href="../../../src/kimchi_optimism/keccak/column.rs.html#176-178">source</a><a href="#method.hash_index" class="anchor">§</a><h4 class="code-header">fn <a href="trait.KeccakWitnessTrait.html#tymethod.hash_index" class="fn">hash_index</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;T</a></h4></section></summary><div class='docblock'>Returns the hash index</div></details><details class="toggle method-toggle" open><summary><section id="method.block_index" class="method trait-impl"><a class="src rightside" href="../../../src/kimchi_optimism/keccak/column.rs.html#180-182">source</a><a href="#method.block_index" class="anchor">§</a><h4 class="code-header">fn <a href="trait.KeccakWitnessTrait.html#tymethod.block_index" class="fn">block_index</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;T</a></h4></section></summary><div class='docblock'>Returns the block index</div></details><details class="toggle method-toggle" open><summary><section id="method.step_index" class="method trait-impl"><a class="src rightside" href="../../../src/kimchi_optimism/keccak/column.rs.html#184-186">source</a><a href="#method.step_index" class="anchor">§</a><h4 class="code-header">fn <a href="trait.KeccakWitnessTrait.html#tymethod.step_index" class="fn">step_index</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;T</a></h4></section></summary><div class='docblock'>Returns the step index</div></details><details class="toggle method-toggle" open><summary><section id="method.mode_flags" class="method trait-impl"><a class="src rightside" href="../../../src/kimchi_optimism/keccak/column.rs.html#188-190">source</a><a href="#method.mode_flags" class="anchor">§</a><h4 class="code-header">fn <a href="trait.KeccakWitnessTrait.html#tymethod.mode_flags" class="fn">mode_flags</a>(&amp;self) -&gt; &amp;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">[T]</a></h4></section></summary><div class='docblock'>Returns the mode flags</div></details><details class="toggle method-toggle" open><summary><section id="method.mode_flags_mut" class="method trait-impl"><a class="src rightside" href="../../../src/kimchi_optimism/keccak/column.rs.html#192-194">source</a><a href="#method.mode_flags_mut" class="anchor">§</a><h4 class="code-header">fn <a href="trait.KeccakWitnessTrait.html#tymethod.mode_flags_mut" class="fn">mode_flags_mut</a>(&amp;mut self) -&gt; &amp;mut <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">[T]</a></h4></section></summary><div class='docblock'>Returns the mode flags as a mutable reference</div></details><details class="toggle method-toggle" open><summary><section id="method.curr" class="method trait-impl"><a class="src rightside" href="../../../src/kimchi_optimism/keccak/column.rs.html#196-199">source</a><a href="#method.curr" class="anchor">§</a><h4 class="code-header">fn <a href="trait.KeccakWitnessTrait.html#tymethod.curr" class="fn">curr</a>(&amp;self) -&gt; &amp;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">[T]</a></h4></section></summary><div class='docblock'>Returns the <code>curr</code> witness columns</div></details><details class="toggle method-toggle" open><summary><section id="method.curr_mut" class="method trait-impl"><a class="src rightside" href="../../../src/kimchi_optimism/keccak/column.rs.html#201-204">source</a><a href="#method.curr_mut" class="anchor">§</a><h4 class="code-header">fn <a href="trait.KeccakWitnessTrait.html#tymethod.curr_mut" class="fn">curr_mut</a>(&amp;mut self) -&gt; &amp;mut <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">[T]</a></h4></section></summary><div class='docblock'>Returns the <code>curr</code> witness columns as a mutable reference</div></details><details class="toggle method-toggle" open><summary><section id="method.next" class="method trait-impl"><a class="src rightside" href="../../../src/kimchi_optimism/keccak/column.rs.html#206-208">source</a><a href="#method.next" class="anchor">§</a><h4 class="code-header">fn <a href="trait.KeccakWitnessTrait.html#tymethod.next" class="fn">next</a>(&amp;self) -&gt; &amp;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">[T]</a></h4></section></summary><div class='docblock'>Returns the <code>next</code> witness columns</div></details><details class="toggle method-toggle" open><summary><section id="method.next_mut" class="method trait-impl"><a class="src rightside" href="../../../src/kimchi_optimism/keccak/column.rs.html#210-212">source</a><a href="#method.next_mut" class="anchor">§</a><h4 class="code-header">fn <a href="trait.KeccakWitnessTrait.html#tymethod.next_mut" class="fn">next_mut</a>(&amp;mut self) -&gt; &amp;mut <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">[T]</a></h4></section></summary><div class='docblock'>Returns the <code>next</code> witness columns as a mutable reference</div></details><details class="toggle method-toggle" open><summary><section id="method.chunk" class="method trait-impl"><a class="src rightside" href="../../../src/kimchi_optimism/keccak/column.rs.html#214-216">source</a><a href="#method.chunk" class="anchor">§</a><h4 class="code-header">fn <a href="trait.KeccakWitnessTrait.html#tymethod.chunk" class="fn">chunk</a>(&amp;self, offset: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>, length: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>) -&gt; &amp;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">[T]</a></h4></section></summary><div class='docblock'>Returns a chunk of the <code>curr</code> witness columns</div></details></div></details></div><script src="../../../type.impl/kimchi_msm/witness/struct.Witness.js" data-self-path="kimchi_optimism::keccak::column::KeccakWitness" async></script></section></div></main></body></html>